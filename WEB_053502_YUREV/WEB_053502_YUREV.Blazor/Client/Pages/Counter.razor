@page "/counter"
@using Microsoft.AspNetCore.Components
@using WEB_053502_YUREV.Blazor.Client.Models

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<EditForm Model="@_counter" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    <InputNumber @bind-Value="_counter.newCount"/>
    <button type="submit" class="btn btn-secondary"> Set counter </button>
</EditForm>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private readonly CustomCounter _counter = new CustomCounter();
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    private void HandleValidSubmit()
    {
        currentCount = _counter.newCount;
    }
}
